<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Comparison to metadata extraction with oro.dicom and oro.nifti • radtools</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Comparison to metadata extraction with oro.dicom and oro.nifti">
<meta property="og:description" content="radtools">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">radtools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.7.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/oro_compare.html">Comparison to metadata extraction with oro.dicom and oro.nifti</a>
    </li>
    <li>
      <a href="../articles/radtools_usage.html">Package usage: radtools</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="oro_compare_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Comparison to metadata extraction with oro.dicom and oro.nifti</h1>
                        <h4 data-toc-skip class="author">Pamela Russell</h4>
            
            <h4 data-toc-skip class="date">2021-05-17</h4>
      
      
      <div class="hidden name"><code>oro_compare.Rmd</code></div>

    </div>

    
    
<pre><code>#&gt; Note: code examples will not be evaluated because they depend on local data.</code></pre>
<div id="overview" class="section level1">
<h1 class="hasAnchor">
<a href="#overview" class="anchor" aria-hidden="true"></a>Overview</h1>
<p>Radtools forwards to <a href="https://cran.r-project.org/package=oro.dicom" class="external-link">oro.dicom</a> and <a href="https://cran.r-project.org/package=oro.nifti" class="external-link">oro.nifti</a> under the hood for reading images and extracting data from them. The added value of radtools is to provide simple, uniform functions to access metadata in convenient formats, reducing the need for code duplication or for understanding the finer points of oro.dicom and oro.nifti. In this vignette we compare some of radtools’ functionality for metadata extraction to equivalent code using oro.dicom and oro.nifti.</p>
<p>Load sample data:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dicom_data</span> <span class="op">&lt;-</span> <span class="fu">radtools</span><span class="fu">::</span><span class="fu"><a href="../reference/read_dicom.html">read_dicom</a></span><span class="op">(</span><span class="st">"~/Dropbox/radtools_vignette_data/prostate/"</span><span class="op">)</span>
<span class="va">nifti_data_rad</span> <span class="op">&lt;-</span> <span class="fu">radtools</span><span class="fu">::</span><span class="fu"><a href="../reference/read_nifti1.html">read_nifti1</a></span><span class="op">(</span><span class="st">"~/Dropbox/radtools_vignette_data/filtered_func_data.nii.gz"</span><span class="op">)</span>
<span class="va">nifti_data_oro</span> <span class="op">&lt;-</span> <span class="fu">oro.nifti</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/oro.nifti/man/read_nifti.html" class="external-link">readNIfTI</a></span><span class="op">(</span><span class="st">"~/Dropbox/radtools_vignette_data/filtered_func_data.nii.gz"</span><span class="op">)</span></code></pre></div>
</div>
<div id="extracting-image-metadata" class="section level1">
<h1 class="hasAnchor">
<a href="#extracting-image-metadata" class="anchor" aria-hidden="true"></a>Extracting image metadata</h1>
<div id="get-image-dimensions-and-number-of-slices" class="section level2">
<h2 class="hasAnchor">
<a href="#get-image-dimensions-and-number-of-slices" class="anchor" aria-hidden="true"></a>Get image dimensions and number of slices</h2>
<div id="radtools" class="section level4">
<h4 class="hasAnchor">
<a href="#radtools" class="anchor" aria-hidden="true"></a>radtools</h4>
<p>The functions <code><a href="../reference/img_dimensions.html">radtools::img_dimensions</a></code> and <code><a href="../reference/num_slices.html">radtools::num_slices</a></code> work for both DICOM and NIfTI images.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">radtools</span><span class="fu">::</span><span class="fu"><a href="../reference/img_dimensions.html">img_dimensions</a></span><span class="op">(</span><span class="va">dicom_data</span><span class="op">)</span>
<span class="fu">radtools</span><span class="fu">::</span><span class="fu"><a href="../reference/img_dimensions.html">img_dimensions</a></span><span class="op">(</span><span class="va">nifti_data_rad</span><span class="op">)</span>
<span class="fu">radtools</span><span class="fu">::</span><span class="fu"><a href="../reference/num_slices.html">num_slices</a></span><span class="op">(</span><span class="va">dicom_data</span><span class="op">)</span>
<span class="fu">radtools</span><span class="fu">::</span><span class="fu"><a href="../reference/num_slices.html">num_slices</a></span><span class="op">(</span><span class="va">nifti_data_rad</span><span class="op">)</span></code></pre></div>
</div>
<div id="oro" class="section level4">
<h4 class="hasAnchor">
<a href="#oro" class="anchor" aria-hidden="true"></a>oro</h4>
<p>The oro packages do not contain direct functions for this. For oro.dicom, you can use <code><a href="https://rdrr.io/r/base/dim.html" class="external-link">base::dim</a></code> on the extracted 3D matrix. For oro.nifti, you can use <code><a href="https://rdrr.io/r/base/dim.html" class="external-link">base::dim</a></code> on the NIfTI object directly.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mat_dicom</span> <span class="op">&lt;-</span> <span class="fu">oro.dicom</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/oro.dicom/man/create3D.html" class="external-link">create3D</a></span><span class="op">(</span><span class="va">dicom_data</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">mat_dicom</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">nifti_data_oro</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">mat_dicom</span><span class="op">)</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span> <span class="co"># Number of slices</span>
<span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">nifti_data_oro</span><span class="op">)</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span> <span class="co"># Number of slices</span></code></pre></div>
</div>
</div>
<div id="get-the-actual-metadata-attributes-present-in-a-dataset" class="section level2">
<h2 class="hasAnchor">
<a href="#get-the-actual-metadata-attributes-present-in-a-dataset" class="anchor" aria-hidden="true"></a>Get the actual metadata attributes present in a dataset</h2>
<p>The <code><a href="../reference/header_fields.html">radtools::header_fields</a></code> function works for both DICOM and NIfTI data.</p>
<div id="dicom" class="section level3">
<h3 class="hasAnchor">
<a href="#dicom" class="anchor" aria-hidden="true"></a>DICOM</h3>
<div id="radtools-1" class="section level4">
<h4 class="hasAnchor">
<a href="#radtools-1" class="anchor" aria-hidden="true"></a>radtools</h4>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">fields</span> <span class="op">&lt;-</span> <span class="fu">radtools</span><span class="fu">::</span><span class="fu"><a href="../reference/header_fields.html">header_fields</a></span><span class="op">(</span><span class="va">dicom_data</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">fields</span>, <span class="fl">10</span><span class="op">)</span></code></pre></div>
</div>
<div id="oro-dicom" class="section level4">
<h4 class="hasAnchor">
<a href="#oro-dicom" class="anchor" aria-hidden="true"></a>oro.dicom</h4>
<p>oro.dicom does not contain a direct function for this. You can get the metadata table with <code><a href="https://rdrr.io/pkg/oro.dicom/man/dicomTable.html" class="external-link">oro.dicom::dicomTable</a></code> and extract its column names. You have to pass <code>dicom_data$hdr</code> instead of <code>dicom_data</code> directly.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">tab</span> <span class="op">&lt;-</span> <span class="fu">oro.dicom</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/oro.dicom/man/dicomTable.html" class="external-link">dicomTable</a></span><span class="op">(</span><span class="va">dicom_data</span><span class="op">$</span><span class="va">hdr</span><span class="op">)</span>
<span class="va">fields</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">tab</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">fields</span>, <span class="fl">10</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div id="nifti" class="section level3">
<h3 class="hasAnchor">
<a href="#nifti" class="anchor" aria-hidden="true"></a>NIfTI</h3>
<p>All NIfTI datasets have the same metadata attributes.</p>
<div id="radtools-2" class="section level4">
<h4 class="hasAnchor">
<a href="#radtools-2" class="anchor" aria-hidden="true"></a>radtools</h4>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">fields</span> <span class="op">&lt;-</span> <span class="fu">radtools</span><span class="fu">::</span><span class="fu"><a href="../reference/header_fields.html">header_fields</a></span><span class="op">(</span><span class="va">nifti_data_rad</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">fields</span>, <span class="fl">10</span><span class="op">)</span></code></pre></div>
</div>
<div id="oro-nifti" class="section level4">
<h4 class="hasAnchor">
<a href="#oro-nifti" class="anchor" aria-hidden="true"></a>oro.nifti</h4>
<p>oro.nifti does not provide a function to get the names of metadata attributes; accessors for each individual metadata attribute are provided.</p>
</div>
</div>
</div>
<div id="get-dicom-metadata-value-across-slices-as-a-list" class="section level2">
<h2 class="hasAnchor">
<a href="#get-dicom-metadata-value-across-slices-as-a-list" class="anchor" aria-hidden="true"></a>Get DICOM metadata value across slices as a list</h2>
<p>Both radtools and oro.dicom provide functions to get the values of a metadata attribute across slices by the attribute name.</p>
<div id="radtools-3" class="section level4">
<h4 class="hasAnchor">
<a href="#radtools-3" class="anchor" aria-hidden="true"></a>radtools</h4>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">radtools</span><span class="fu">::</span><span class="fu"><a href="../reference/header_value.html">header_value</a></span><span class="op">(</span><span class="va">dicom_data</span>, <span class="st">"SliceLocation"</span><span class="op">)</span></code></pre></div>
</div>
<div id="oro-dicom-1" class="section level4">
<h4 class="hasAnchor">
<a href="#oro-dicom-1" class="anchor" aria-hidden="true"></a>oro.dicom</h4>
<p>In oro.dicom, you have to pass <code>dicom_data$hdr</code> instead of <code>dicom_data</code> directly.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">oro.dicom</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/oro.dicom/man/extractHeader.html" class="external-link">extractHeader</a></span><span class="op">(</span><span class="va">dicom_data</span><span class="op">$</span><span class="va">hdr</span>, <span class="st">"SliceLocation"</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div id="get-the-metadata-for-entire-dataset-as-a-table-dicom-or-list-nifti" class="section level2">
<h2 class="hasAnchor">
<a href="#get-the-metadata-for-entire-dataset-as-a-table-dicom-or-list-nifti" class="anchor" aria-hidden="true"></a>Get the metadata for entire dataset as a table (DICOM) or list (NIFTI)</h2>
<div id="dicom-1" class="section level3">
<h3 class="hasAnchor">
<a href="#dicom-1" class="anchor" aria-hidden="true"></a>DICOM</h3>
<p>Both radtools and oro.dicom provide functions to extract all metadata as a matrix. See below for the different matrix formats.</p>
<div id="radtools-4" class="section level4">
<h4 class="hasAnchor">
<a href="#radtools-4" class="anchor" aria-hidden="true"></a>radtools</h4>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mat</span> <span class="op">&lt;-</span> <span class="fu">radtools</span><span class="fu">::</span><span class="fu"><a href="../reference/dicom_header_as_matrix.html">dicom_header_as_matrix</a></span><span class="op">(</span><span class="va">dicom_data</span><span class="op">)</span>
<span class="fu">kable</span><span class="op">(</span><span class="va">mat</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span><span class="op">)</span></code></pre></div>
</div>
<div id="oro-dicom-2" class="section level4">
<h4 class="hasAnchor">
<a href="#oro-dicom-2" class="anchor" aria-hidden="true"></a>oro.dicom</h4>
<p>In oro.dicom, you have to pass <code>dicom_data$hdr</code> instead of <code>dicom_data</code> directly. The row names of the matrix are the .dcm file names.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mat</span> <span class="op">&lt;-</span> <span class="fu">oro.dicom</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/oro.dicom/man/dicomTable.html" class="external-link">dicomTable</a></span><span class="op">(</span><span class="va">dicom_data</span><span class="op">$</span><span class="va">hdr</span><span class="op">)</span>
<span class="fu">kable</span><span class="op">(</span><span class="va">mat</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div id="nifti-1" class="section level3">
<h3 class="hasAnchor">
<a href="#nifti-1" class="anchor" aria-hidden="true"></a>NIfTI</h3>
<div id="radtools-5" class="section level4">
<h4 class="hasAnchor">
<a href="#radtools-5" class="anchor" aria-hidden="true"></a>radtools</h4>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">nifti_header_vals</span> <span class="op">&lt;-</span> <span class="fu">radtools</span><span class="fu">::</span><span class="fu"><a href="../reference/nifti1_header_values.html">nifti1_header_values</a></span><span class="op">(</span><span class="va">nifti_data_rad</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">nifti_header_vals</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">nifti_header_vals</span><span class="op">)</span> <span class="op">!=</span> <span class="st">".Data"</span><span class="op">]</span><span class="op">)</span></code></pre></div>
</div>
<div id="oro-nifti-1" class="section level4">
<h4 class="hasAnchor">
<a href="#oro-nifti-1" class="anchor" aria-hidden="true"></a>oro.nifti</h4>
<p>This functionality is not available in oro.nifti. Accessors are provided for individual metadata attributes.</p>
</div>
</div>
</div>
<div id="get-constant-across-slices-dicom-attributes-and-their-values" class="section level2">
<h2 class="hasAnchor">
<a href="#get-constant-across-slices-dicom-attributes-and-their-values" class="anchor" aria-hidden="true"></a>Get constant (across slices) DICOM attributes and their values</h2>
<p>In DICOM datasets, many attributes have constant values across all slices. These are properties of the data acquisition as a whole, as opposed to individual slices.</p>
<div id="radtools-6" class="section level4">
<h4 class="hasAnchor">
<a href="#radtools-6" class="anchor" aria-hidden="true"></a>radtools</h4>
<p>Radtools provides a direct function to get these dataset attributes as a named list. Numeric values are returned as numbers by default.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">const_attributes</span> <span class="op">&lt;-</span> <span class="fu">radtools</span><span class="fu">::</span><span class="fu"><a href="../reference/dicom_constant_header_values.html">dicom_constant_header_values</a></span><span class="op">(</span><span class="va">dicom_data</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">const_attributes</span><span class="op">)</span></code></pre></div>
</div>
<div id="oro-dicom-3" class="section level4">
<h4 class="hasAnchor">
<a href="#oro-dicom-3" class="anchor" aria-hidden="true"></a>oro.dicom</h4>
<p>With oro.dicom, a few lines of code are required to access overall dataset attributes. All attributes are returned as strings.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">tab</span> <span class="op">&lt;-</span> <span class="fu">oro.dicom</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/oro.dicom/man/dicomTable.html" class="external-link">dicomTable</a></span><span class="op">(</span><span class="va">dicom_data</span><span class="op">$</span><span class="va">hdr</span><span class="op">)</span>
<span class="va">const_cols</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="va">tab</span>, <span class="fl">2</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span> <span class="op">==</span> <span class="fl">1</span><span class="op">}</span><span class="op">)</span>
<span class="va">const_attributes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">as.list</a></span><span class="op">(</span><span class="va">tab</span><span class="op">[</span><span class="fl">1</span>, <span class="va">const_cols</span><span class="op">]</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">const_attributes</span><span class="op">)</span></code></pre></div>
</div>
</div>
</div>
<div id="extracting-image-data" class="section level1">
<h1 class="hasAnchor">
<a href="#extracting-image-data" class="anchor" aria-hidden="true"></a>Extracting image data</h1>
<div id="radtools-7" class="section level4">
<h4 class="hasAnchor">
<a href="#radtools-7" class="anchor" aria-hidden="true"></a>radtools</h4>
<p>The <code><a href="../reference/img_data_to_mat.html">radtools::img_data_to_mat</a></code> function works for both DICOM and NIfTI data.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mat_dicom</span> <span class="op">&lt;-</span> <span class="fu">radtools</span><span class="fu">::</span><span class="fu"><a href="../reference/img_data_to_mat.html">img_data_to_mat</a></span><span class="op">(</span><span class="va">dicom_data</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">mat_dicom</span><span class="op">)</span>
<span class="va">mat_nifti</span> <span class="op">&lt;-</span> <span class="fu">radtools</span><span class="fu">::</span><span class="fu"><a href="../reference/img_data_to_mat.html">img_data_to_mat</a></span><span class="op">(</span><span class="va">nifti_data_rad</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">mat_nifti</span><span class="op">)</span></code></pre></div>
</div>
<div id="oro-1" class="section level4">
<h4 class="hasAnchor">
<a href="#oro-1" class="anchor" aria-hidden="true"></a>oro</h4>
<p>oro.dicom and oro.nifti each have direct functions to get the image data as a matrix. Because of the different typical uses of these formats, the functions have different names.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mat_dicom</span> <span class="op">&lt;-</span> <span class="fu">oro.dicom</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/oro.dicom/man/create3D.html" class="external-link">create3D</a></span><span class="op">(</span><span class="va">dicom_data</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">mat_dicom</span><span class="op">)</span>
<span class="va">mat_nifti</span> <span class="op">&lt;-</span> <span class="fu">oro.nifti</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/oro.nifti/man/img_data-methods.html" class="external-link">img_data</a></span><span class="op">(</span><span class="va">nifti_data_oro</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">mat_nifti</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div id="viewing-images" class="section level1">
<h1 class="hasAnchor">
<a href="#viewing-images" class="anchor" aria-hidden="true"></a>Viewing images</h1>
<p>The <code><a href="../reference/view_slice.html">radtools::view_slice</a></code> function works for both DICOM and NIfTI datasets. For datasets with more than three dimensions, data can first be reduced to a 3D matrix with the generic function <code>img_data_to_3D_mat</code> and then <code><a href="../reference/view_slice_mat.html">radtools::view_slice_mat</a></code> is agnostic to the original format of the data.</p>
<p>oro.dicom does not provide a direct view function, while oro.nifti does.</p>
<div id="dicom-2" class="section level2">
<h2 class="hasAnchor">
<a href="#dicom-2" class="anchor" aria-hidden="true"></a>DICOM</h2>
<div id="radtools-8" class="section level4">
<h4 class="hasAnchor">
<a href="#radtools-8" class="anchor" aria-hidden="true"></a>radtools</h4>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">radtools</span><span class="fu">::</span><span class="fu"><a href="../reference/view_slice.html">view_slice</a></span><span class="op">(</span><span class="va">dicom_data</span>, slice <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></code></pre></div>
</div>
<div id="oro-dicom-4" class="section level4">
<h4 class="hasAnchor">
<a href="#oro-dicom-4" class="anchor" aria-hidden="true"></a>oro.dicom</h4>
<p>As oro.dicom does not provide a direct <code>view</code> function, a small amount of code is required.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mat</span> <span class="op">&lt;-</span> <span class="fu">oro.dicom</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/oro.dicom/man/create3D.html" class="external-link">create3D</a></span><span class="op">(</span><span class="va">dicom_data</span><span class="op">)</span>
<span class="va">m</span> <span class="op">&lt;-</span> <span class="va">mat</span><span class="op">[</span>,,<span class="fl">10</span><span class="op">]</span>
<span class="va">col</span> <span class="op">&lt;-</span> <span class="fu">grDevices</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grDevices/gray.html" class="external-link">grey</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">64</span><span class="op">/</span><span class="fl">64</span><span class="op">)</span>
<span class="fu">graphics</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/graphics/image.html" class="external-link">image</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span>, y <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span>, z <span class="op">=</span> <span class="va">m</span>, col <span class="op">=</span> <span class="va">col</span>, ann <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div id="nifti-2" class="section level2">
<h2 class="hasAnchor">
<a href="#nifti-2" class="anchor" aria-hidden="true"></a>NIfTI</h2>
<div id="radtools-9" class="section level4">
<h4 class="hasAnchor">
<a href="#radtools-9" class="anchor" aria-hidden="true"></a>radtools</h4>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mat</span> <span class="op">&lt;-</span> <span class="fu">radtools</span><span class="fu">::</span><span class="fu"><a href="../reference/img_data_to_3D_mat.html">img_data_to_3D_mat</a></span><span class="op">(</span><span class="va">nifti_data_rad</span>, coord_extra_dim <span class="op">=</span> <span class="fl">90</span><span class="op">)</span>
<span class="fu">radtools</span><span class="fu">::</span><span class="fu"><a href="../reference/view_slice_mat.html">view_slice_mat</a></span><span class="op">(</span><span class="va">mat</span>, slice <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></code></pre></div>
</div>
<div id="oro-nifti-2" class="section level4">
<h4 class="hasAnchor">
<a href="#oro-nifti-2" class="anchor" aria-hidden="true"></a>oro.nifti</h4>
<p>oro.nifti provides a direct <code>image</code> function:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">oro.nifti</span><span class="fu">::</span><span class="fu">image</span><span class="op">(</span><span class="va">nifti_data_oro</span>, z <span class="op">=</span> <span class="fl">10</span>, w <span class="op">=</span> <span class="fl">90</span>, plot.type <span class="op">=</span> <span class="st">"single"</span><span class="op">)</span></code></pre></div>
</div>
</div>
</div>
<div id="dicom-standard" class="section level1">
<h1 class="hasAnchor">
<a href="#dicom-standard" class="anchor" aria-hidden="true"></a>DICOM standard</h1>
<div id="radtools-10" class="section level2">
<h2 class="hasAnchor">
<a href="#radtools-10" class="anchor" aria-hidden="true"></a>radtools</h2>
<p>Radtools provides functions to explore the DICOM standard itself.</p>
<div id="get-the-dicom-standard-version-used" class="section level4">
<h4 class="hasAnchor">
<a href="#get-the-dicom-standard-version-used" class="anchor" aria-hidden="true"></a>Get the DICOM standard version used</h4>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">radtools</span><span class="fu">::</span><span class="fu"><a href="../reference/dicom_standard_version.html">dicom_standard_version</a></span><span class="op">(</span><span class="op">)</span>
<span class="fu">radtools</span><span class="fu">::</span><span class="fu"><a href="../reference/dicom_standard_web.html">dicom_standard_web</a></span><span class="op">(</span><span class="op">)</span>
<span class="fu">radtools</span><span class="fu">::</span><span class="fu"><a href="../reference/dicom_standard_timestamp.html">dicom_standard_timestamp</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
</div>
<div id="get-lists-of-all-valid-attributes" class="section level4">
<h4 class="hasAnchor">
<a href="#get-lists-of-all-valid-attributes" class="anchor" aria-hidden="true"></a>Get lists of all valid attributes</h4>
<p>Tags:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">tags</span> <span class="op">&lt;-</span> <span class="fu">radtools</span><span class="fu">::</span><span class="fu"><a href="../reference/dicom_all_valid_header_tags.html">dicom_all_valid_header_tags</a></span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">tags</span>, <span class="fl">10</span><span class="op">)</span></code></pre></div>
<p>Names:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">names</span> <span class="op">&lt;-</span> <span class="fu">radtools</span><span class="fu">::</span><span class="fu"><a href="../reference/dicom_all_valid_header_names.html">dicom_all_valid_header_names</a></span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">names</span>, <span class="fl">10</span><span class="op">)</span></code></pre></div>
<p>Keywords:</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">keywords</span> <span class="op">&lt;-</span> <span class="fu">radtools</span><span class="fu">::</span><span class="fu"><a href="../reference/dicom_all_valid_header_keywords.html">dicom_all_valid_header_keywords</a></span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">keywords</span>, <span class="fl">10</span><span class="op">)</span></code></pre></div>
</div>
<div id="search-the-dicom-standard-for-attribute-names-and-keywords-matching-a-given-string" class="section level4">
<h4 class="hasAnchor">
<a href="#search-the-dicom-standard-for-attribute-names-and-keywords-matching-a-given-string" class="anchor" aria-hidden="true"></a>Search the DICOM standard for attribute names and keywords matching a given string:</h4>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">radtools</span><span class="fu">::</span><span class="fu"><a href="../reference/dicom_search_header_names.html">dicom_search_header_names</a></span><span class="op">(</span><span class="st">"manufacturer"</span><span class="op">)</span>
<span class="fu">radtools</span><span class="fu">::</span><span class="fu"><a href="../reference/dicom_search_header_keywords.html">dicom_search_header_keywords</a></span><span class="op">(</span><span class="st">"manufacturer"</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div id="oro-dicom-5" class="section level2">
<h2 class="hasAnchor">
<a href="#oro-dicom-5" class="anchor" aria-hidden="true"></a>oro.dicom</h2>
<p>This functionality is not provided in oro.dicom.</p>
</div>
</div>
<div id="session-info" class="section level1">
<h1 class="hasAnchor">
<a href="#session-info" class="anchor" aria-hidden="true"></a>Session info</h1>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html" class="external-link">sessionInfo</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Pamela Russell.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link external-link">pkgdown</a> 1.6.1.9001.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
